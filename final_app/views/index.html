<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    
    <link rel="stylesheet" href="../assets/css/design.css">
    <title>Log In</title>

</head>
<body class="bd" >
    <div class="container" id="co">
        <div class="row c" id="aa">
          <div class="col-sm-4 " id="aa"></div>
          <div class="col-sm-4 " id="aa">
            <div class="row " id="ti">
                <h2 class="llog tex" >Log In</h2>
          <div class="rounded-2 " id="l">
            <form id="mysecform">
              
              <div class="form-group">
              <input type="email" class="form-control tex" id="Email" placeholder="example@gmail.com" >
            </div>
              <div class="error " id="emailerror"></div>
              <div class="form-group">
              <input type="password" class="form-control tex" id="Password" placeholder="Password *" >
            </div>
              <div class="error" id="passerror"></div>
                
                <button class="btn btn1 btn-light  tex" href="./share.html" type="submit" id="log_in" >Log in</button>
                <button class="btn btn1 btn-light  tex" href="./sign_up.html" type="submit" id="sign_up" >Sign up</button>
                <button class="btn btn1 btn-light  tex" href="./guest.html" type="submit" id="guest" >Guest ?</button>
                
              </form>
          </div>
        </div>
    </div>
          <div class="col-sm-4 mt-5 "></div>
        </div>
    </div>

    
    <script type="module" src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>

    <script type="module" src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>

    <script type="module" src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
    

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
      import { getAuth, onAuthStateChanged , signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";
      import { collection, addDoc, getFirestore } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"
      
     
      const firebaseConfig = {
    apiKey: "AIzaSyBtoQ1RNx7u1TgY-pzO1pCqeTG-EiSYDrQ",
    authDomain: "happy-shop-6537a.firebaseapp.com",
    projectId: "happy-shop-6537a",
    storageBucket: "happy-shop-6537a.appspot.com",
    messagingSenderId: "474889425951",
    appId: "1:474889425951:web:c8aef23825b19edf86312a",
    measurementId: "G-Z4JXF701BP"
  };
    
    const app = initializeApp(firebaseConfig); // Initialize Firebase
    const auth = getAuth(app);
    const db = getFirestore();

    let email;
    let pass;
    let role;

    $('#guest').click( function(){ 
        window.location.href=this.getAttribute('href');
        return false;
        
     });
    $('#sign_up').click( function(){ 
        window.location.href=this.getAttribute('href');
        return false;
        
     });
     export let user ;
    $('#log_in').click( function(e){
        e.preventDefault();
        email = $('#Email').val();
        pass = $('#Password').val();
        
        signInWithEmailAndPassword(auth, email, pass)
        .then((userCredential) => {
          // Signed in 
          user = userCredential.user;
          window.location.href=this.getAttribute('href');
          // ...
        })
        .catch((error) => {
          alert('wrong email or password!! ')
        });
        
});

   

    
</script>  


</body>
</html>